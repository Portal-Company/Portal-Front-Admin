import{r as x,g as N,u as y,a as v,Q as C,j as a,R as F,b as i,C as l,F as r,c as j,B as S}from"./index.a8a43b3b.js";import{u as $,c as f,a as w}from"./index.esm.01b07e70.js";const B=x.exports.memo(()=>{var c,m,h,u,p;const n=N(),{data:o}=y(`/user/list/${n==null?void 0:n.sub}`),{data:t}=y(`/organization/list/${(m=(c=o==null?void 0:o.Escola)==null?void 0:c.Organigrama)==null?void 0:m.id}`),e=$({initialValues:{nome:"",organigramaId:t!=null&&t.id?t==null?void 0:t.id:null},validationSchema:f({nome:w().trim().required("Este campo \xE9 obrigat\xF3rio")}),onSubmit:async d=>{var b,g;try{d={...d,organigramaId:t==null?void 0:t.id},await v.post("/department/post",d)&&(C.success("Departamento cadastrado com sucesso"),e.resetForm())}catch(s){C.error((g=(b=s==null?void 0:s.response)==null?void 0:b.data)==null?void 0:g.message)}}});return a(x.exports.Fragment,{children:a(F,{children:i(l,{children:[a(l.Header,{className:"d-flex justify-content-between",children:a("div",{className:"header-title",children:a("h4",{className:"card-title",children:" Cadastrar Departamento"})})}),a(l.Body,{children:i(r,{onSubmit:e.handleSubmit,children:[a(F,{children:i(j,{md:"6",className:"mb-3",children:[a(r.Label,{md:"6",htmlFor:"validationDefault01",children:"Nome do Departamento"}),a(r.Control,{type:"text",id:"nome",name:"nome",value:e.values.nome,onChange:e.handleChange,required:!0}),((h=e==null?void 0:e.touched)==null?void 0:h.nome)&&((u=e==null?void 0:e.errors)==null?void 0:u.nome)?a("label",{className:"mt-1 text-danger",children:(p=e==null?void 0:e.errors)==null?void 0:p.nome}):null]})}),a(r.Group,{children:a(S,{variant:"btn btn-primary",type:"submit",children:"Cadastrar"})})]})})]})})})});B.displayName="UserAdd";export{B as default};
